{"remainingRequest":"/Users/fangzunbao/Document/code/vuepress-blog/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/fangzunbao/Document/code/vuepress-blog/node_modules/@vuepress/plugin-pwa/lib/SWUpdateEvent.js","dependencies":[{"path":"/Users/fangzunbao/Document/code/vuepress-blog/node_modules/@vuepress/plugin-pwa/lib/SWUpdateEvent.js","mtime":1653392131921},{"path":"/Users/fangzunbao/Document/code/vuepress-blog/node_modules/cache-loader/dist/cjs.js","mtime":1653371826000},{"path":"/Users/fangzunbao/Document/code/vuepress-blog/node_modules/babel-loader/lib/index.js","mtime":1653371826439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvZmFuZ3p1bmJhby9Eb2N1bWVudC9jb2RlL3Z1ZXByZXNzLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvZmFuZ3p1bmJhby9Eb2N1bWVudC9jb2RlL3Z1ZXByZXNzLWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwoKdmFyIFNXVXBkYXRlRXZlbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFNXVXBkYXRlRXZlbnQocmVnaXN0cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU1dVcGRhdGVFdmVudCk7CgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZWdpc3RyYXRpb24nLCB7CiAgICAgIHZhbHVlOiByZWdpc3RyYXRpb24sCiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgd3JpdGFibGU6IHRydWUKICAgIH0pOwogIH0KICAvKioKICAgKiBDaGVjayBpZiB0aGUgbmV3IHNlcnZpY2Ugd29ya2VyIGV4aXN0cyBvciBub3QuCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoU1dVcGRhdGVFdmVudCwgW3sKICAgIGtleTogInVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICByZXR1cm4gdGhpcy5yZWdpc3RyYXRpb24udXBkYXRlKCk7CiAgICB9CiAgICAvKioKICAgICAqIEFjdGl2YXRlIG5ldyBzZXJ2aWNlIHdvcmtlciB0byB3b3JrICdsb2NhdGlvbi5yZWxvYWQoKScgd2l0aCBuZXcgZGF0YS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJza2lwV2FpdGluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2tpcFdhaXRpbmcoKSB7CiAgICAgIHZhciB3b3JrZXIgPSB0aGlzLnJlZ2lzdHJhdGlvbi53YWl0aW5nOwoKICAgICAgaWYgKCF3b3JrZXIpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCdbdnVlcHJlc3M6c3ddIERvaW5nIHdvcmtlci5za2lwV2FpdGluZygpLicpOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7CgogICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnW3Z1ZXByZXNzOnN3XSBEb25lIHdvcmtlci5za2lwV2FpdGluZygpLicpOwoKICAgICAgICAgIGlmIChldmVudC5kYXRhLmVycm9yKSB7CiAgICAgICAgICAgIHJlamVjdChldmVudC5kYXRhLmVycm9yKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdza2lwLXdhaXRpbmcnCiAgICAgICAgfSwgW2NoYW5uZWwucG9ydDJdKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU1dVcGRhdGVFdmVudDsKfSgpOwoKZXhwb3J0IHsgU1dVcGRhdGVFdmVudCBhcyBkZWZhdWx0IH07"},{"version":3,"names":["SWUpdateEvent","registration","Object","defineProperty","value","configurable","writable","update","worker","waiting","Promise","resolve","console","log","reject","channel","MessageChannel","port1","onmessage","event","data","error","postMessage","type","port2"],"sources":["/Users/fangzunbao/Document/code/vuepress-blog/node_modules/@vuepress/plugin-pwa/lib/SWUpdateEvent.js"],"sourcesContent":["export default class SWUpdateEvent {\n  constructor (registration) {\n    Object.defineProperty(this, 'registration', {\n      value: registration,\n      configurable: true,\n      writable: true\n    })\n  }\n\n  /**\n   * Check if the new service worker exists or not.\n   */\n  update () {\n    return this.registration.update()\n  }\n\n  /**\n   * Activate new service worker to work 'location.reload()' with new data.\n   */\n  skipWaiting () {\n    const worker = this.registration.waiting\n    if (!worker) {\n      return Promise.resolve()\n    }\n\n    console.log('[vuepress:sw] Doing worker.skipWaiting().')\n    return new Promise((resolve, reject) => {\n      const channel = new MessageChannel()\n\n      channel.port1.onmessage = (event) => {\n        console.log('[vuepress:sw] Done worker.skipWaiting().')\n        if (event.data.error) {\n          reject(event.data.error)\n        } else {\n          resolve(event.data)\n        }\n      }\n\n      worker.postMessage({ type: 'skip-waiting' }, [channel.port2])\n    })\n  }\n}\n\n"],"mappings":";;;;;IAAqBA,a;EACnB,uBAAaC,YAAb,EAA2B;IAAA;;IACzBC,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,cAA5B,EAA4C;MAC1CC,KAAK,EAAEH,YADmC;MAE1CI,YAAY,EAAE,IAF4B;MAG1CC,QAAQ,EAAE;IAHgC,CAA5C;EAKD;EAED;AACF;AACA;;;;;WACE,kBAAU;MACR,OAAO,KAAKL,YAAL,CAAkBM,MAAlB,EAAP;IACD;IAED;AACF;AACA;;;;WACE,uBAAe;MACb,IAAMC,MAAM,GAAG,KAAKP,YAAL,CAAkBQ,OAAjC;;MACA,IAAI,CAACD,MAAL,EAAa;QACX,OAAOE,OAAO,CAACC,OAAR,EAAP;MACD;;MAEDC,OAAO,CAACC,GAAR,CAAY,2CAAZ;MACA,OAAO,IAAIH,OAAJ,CAAY,UAACC,OAAD,EAAUG,MAAV,EAAqB;QACtC,IAAMC,OAAO,GAAG,IAAIC,cAAJ,EAAhB;;QAEAD,OAAO,CAACE,KAAR,CAAcC,SAAd,GAA0B,UAACC,KAAD,EAAW;UACnCP,OAAO,CAACC,GAAR,CAAY,0CAAZ;;UACA,IAAIM,KAAK,CAACC,IAAN,CAAWC,KAAf,EAAsB;YACpBP,MAAM,CAACK,KAAK,CAACC,IAAN,CAAWC,KAAZ,CAAN;UACD,CAFD,MAEO;YACLV,OAAO,CAACQ,KAAK,CAACC,IAAP,CAAP;UACD;QACF,CAPD;;QASAZ,MAAM,CAACc,WAAP,CAAmB;UAAEC,IAAI,EAAE;QAAR,CAAnB,EAA6C,CAACR,OAAO,CAACS,KAAT,CAA7C;MACD,CAbM,CAAP;IAcD;;;;;;SAxCkBxB,a"}]}